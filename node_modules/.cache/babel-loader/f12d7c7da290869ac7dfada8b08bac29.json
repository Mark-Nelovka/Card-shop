{"ast":null,"code":"import _regeneratorRuntime from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _taggedTemplateLiteral from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _asyncToGenerator from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _createClass from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _classCallCheck from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _inherits from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/createSuper.js\";var _templateObject,_templateObject2,_templateObject3;import{gql}from\"@apollo/client\";import{client}from\"../index\";import Notiflix from\"notiflix\";import{Component}from\"react\";var Api=/*#__PURE__*/function(_Component){_inherits(Api,_Component);var _super=_createSuper(Api);function Api(){var _this;_classCallCheck(this,Api);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.getAllProduct=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var products;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return client.query({query:gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n          query {\\n            category {\\n              products {\\n                id\\n                category\\n                gallery\\n                brand\\n                inStock\\n                description\\n\\n                name\\n                prices {\\n                  amount\\n                  currency {\\n                    symbol\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        \"])))});case 3:products=_context.sent;return _context.abrupt(\"return\",products.data.category.products);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);Notiflix.Notify.failure(\"Oops, something went wrong. Please reload the page\");case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));_this.getProductId=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var product;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return client.query({query:gql(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n          query {\\n            product(id: \\\"\",\"\\\") {\\n              name\\n              brand\\n               description\\n               prices {\\n    amount\\n    currency {\\n      symbol\\n    }\\n  }\\n              gallery \\n              id\\n              attributes {\\n                id\\n                items {\\n                  value\\n                }\\n              }\\n            }\\n          }\\n        \"])),id)});case 3:product=_context2.sent;return _context2.abrupt(\"return\",[product.data.product]);case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);Notiflix.Notify.failure(\"Oops, something went wrong. Please reload the page\");case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.getCurrencies=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var currencies;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return client.query({query:gql(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n          query {\\n            currencies {\\n              label\\n              symbol\\n            }\\n          }\\n        \"])))});case 3:currencies=_context3.sent;return _context3.abrupt(\"return\",currencies.data.currencies);case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);Notiflix.Notify.failure(\"Oops, something went wrong. Please reload the page\");case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return _this;}return _createClass(Api);}(Component);export{Api as default};","map":{"version":3,"names":["gql","client","Notiflix","Component","Api","getAllProduct","query","products","data","category","console","log","message","Notify","failure","getProductId","id","product","getCurrencies","currencies"],"sources":["/Users/marknelovka/Desktop/Goit/React/shop/src/components/Api.js"],"sourcesContent":["import { gql } from \"@apollo/client\";\nimport { client } from \"../index\";\nimport Notiflix from \"notiflix\";\nimport { Component } from \"react\";\n\nexport default class Api extends Component {\n  getAllProduct = async () => {\n    try {\n      const products = await client.query({\n        query: gql`\n          query {\n            category {\n              products {\n                id\n                category\n                gallery\n                brand\n                inStock\n                description\n\n                name\n                prices {\n                  amount\n                  currency {\n                    symbol\n                  }\n                }\n              }\n            }\n          }\n        `,\n      });\n      return products.data.category.products;\n    } catch (error) {\n      console.log(error.message);\n      Notiflix.Notify.failure(\n        \"Oops, something went wrong. Please reload the page\"\n      );\n    }\n  };\n\n  getProductId = async (id) => {\n    try {\n      const product = await client.query({\n        query: gql`\n          query {\n            product(id: \"${id}\") {\n              name\n              brand\n               description\n               prices {\n    amount\n    currency {\n      symbol\n    }\n  }\n              gallery \n              id\n              attributes {\n                id\n                items {\n                  value\n                }\n              }\n            }\n          }\n        `,\n      });\n      return [product.data.product];\n    } catch (error) {\n      Notiflix.Notify.failure(\n        \"Oops, something went wrong. Please reload the page\"\n      );\n    }\n  };\n\n  getCurrencies = async () => {\n    try {\n      const currencies = await client.query({\n        query: gql`\n          query {\n            currencies {\n              label\n              symbol\n            }\n          }\n        `,\n      });\n      return currencies.data.currencies;\n    } catch (error) {\n      Notiflix.Notify.failure(\n        \"Oops, something went wrong. Please reload the page\"\n      );\n    }\n  };\n}\n"],"mappings":"s8BAAA,OAASA,GAAT,KAAoB,gBAApB,CACA,OAASC,MAAT,KAAuB,UAAvB,CACA,MAAOC,SAAP,KAAqB,UAArB,CACA,OAASC,SAAT,KAA0B,OAA1B,C,GAEqBC,I,+SACnBC,a,wEAAgB,wLAEWJ,OAAM,CAACK,KAAP,CAAa,CAClCA,KAAK,CAAEN,GAAF,+fAD6B,CAAb,CAFX,QAENO,QAFM,+CA0BLA,QAAQ,CAACC,IAAT,CAAcC,QAAd,CAAuBF,QA1BlB,0DA4BZG,OAAO,CAACC,GAAR,CAAY,YAAMC,OAAlB,EACAV,QAAQ,CAACW,MAAT,CAAgBC,OAAhB,CACE,oDADF,EA7BY,oE,SAmChBC,Y,6FAAe,kBAAOC,EAAP,4KAEWf,OAAM,CAACK,KAAP,CAAa,CACjCA,KAAK,CAAEN,GAAF,oeAEcgB,EAFd,CAD4B,CAAb,CAFX,QAELC,OAFK,iDA2BJ,CAACA,OAAO,CAACT,IAAR,CAAaS,OAAd,CA3BI,6DA6BXf,QAAQ,CAACW,MAAT,CAAgBC,OAAhB,CACE,oDADF,EA7BW,sE,sEAmCfI,a,wEAAgB,iMAEajB,OAAM,CAACK,KAAP,CAAa,CACpCA,KAAK,CAAEN,GAAF,iMAD+B,CAAb,CAFb,QAENmB,UAFM,iDAYLA,UAAU,CAACX,IAAX,CAAgBW,UAZX,6DAcZjB,QAAQ,CAACW,MAAT,CAAgBC,OAAhB,CACE,oDADF,EAdY,sE,4CAvEeX,S,SAAZC,G"},"metadata":{},"sourceType":"module"}