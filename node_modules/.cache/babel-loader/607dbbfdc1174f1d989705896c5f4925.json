{"ast":null,"code":"import _regeneratorRuntime from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from\"react\";import{CURRENCIES}from\"./Api\";import{client}from\"../index\";import Notiflix from\"notiflix\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var ChoiceCurrency=/*#__PURE__*/function(_Component){_inherits(ChoiceCurrency,_Component);var _super=_createSuper(ChoiceCurrency);function ChoiceCurrency(){var _this;_classCallCheck(this,ChoiceCurrency);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={currencies:null};_this.choise=function(e){var textContent=e.target.textContent;var activeCurrency=textContent.split(\"\",2).join(\"\");_this.props.relevantCurrency(activeCurrency);return activeCurrency;};return _this;}_createClass(ChoiceCurrency,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var currenciesQ;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return client.query({query:CURRENCIES});case 3:currenciesQ=_context.sent;this.setState({currencies:currenciesQ.data.currencies});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);Notiflix.Notify.failure(\"\".concat(_context.t0.message));case 10:case\"end\":return _context.stop();}}},_callee,this,[[0,7]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;var currencies=this.state.currencies;return/*#__PURE__*/_jsx(\"ul\",{className:\"currency_list\",children:currencies&&currencies.map(function(_ref){var label=_ref.label,symbol=_ref.symbol;return/*#__PURE__*/_jsxs(\"li\",{onClick:_this2.choise,className:\"currency_item\",children:[symbol,\" \",label]},symbol);})});}}]);return ChoiceCurrency;}(Component);export{ChoiceCurrency as default};","map":{"version":3,"names":["Component","CURRENCIES","client","Notiflix","ChoiceCurrency","state","currencies","choise","e","textContent","target","activeCurrency","split","join","props","relevantCurrency","query","currenciesQ","setState","data","Notify","failure","message","map","label","symbol"],"sources":["/Users/marknelovka/Desktop/Goit/React/shop/src/components/modalCurrency.js"],"sourcesContent":["import { Component } from \"react\";\nimport { CURRENCIES } from \"./Api\";\nimport { client } from \"../index\";\nimport Notiflix from \"notiflix\";\n\nexport default class ChoiceCurrency extends Component {\n  state = {\n    currencies: null,\n  };\n\n  async componentDidMount() {\n    try {\n      const currenciesQ = await client.query({\n        query: CURRENCIES,\n      });\n      this.setState({ currencies: currenciesQ.data.currencies });\n    } catch (error) {\n      Notiflix.Notify.failure(`${error.message}`);\n    }\n  }\n\n  choise = (e) => {\n    const { textContent } = e.target;\n    const activeCurrency = textContent.split(\"\", 2).join(\"\");\n    this.props.relevantCurrency(activeCurrency);\n    return activeCurrency;\n  };\n\n  render() {\n    const { currencies } = this.state;\n    return (\n      <ul className=\"currency_list\">\n        {currencies &&\n          currencies.map(({ label, symbol }) => {\n            return (\n              <li onClick={this.choise} key={symbol} className=\"currency_item\">\n                {symbol} {label}\n              </li>\n            );\n          })}\n      </ul>\n    );\n  }\n}\n"],"mappings":"gwBAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,UAAT,KAA2B,OAA3B,CACA,OAASC,MAAT,KAAuB,UAAvB,CACA,MAAOC,SAAP,KAAqB,UAArB,C,2FAEqBC,e,2VACnBC,K,CAAQ,CACNC,UAAU,CAAE,IADN,C,OAeRC,M,CAAS,SAACC,CAAD,CAAO,CACd,GAAQC,YAAR,CAAwBD,CAAC,CAACE,MAA1B,CAAQD,WAAR,CACA,GAAME,eAAc,CAAGF,WAAW,CAACG,KAAZ,CAAkB,EAAlB,CAAsB,CAAtB,EAAyBC,IAAzB,CAA8B,EAA9B,CAAvB,CACA,MAAKC,KAAL,CAAWC,gBAAX,CAA4BJ,cAA5B,EACA,MAAOA,eAAP,CACD,C,uKAhBD,2LAE8BT,OAAM,CAACc,KAAP,CAAa,CACrCA,KAAK,CAAEf,UAD8B,CAAb,CAF9B,QAEUgB,WAFV,eAKI,KAAKC,QAAL,CAAc,CAAEZ,UAAU,CAAEW,WAAW,CAACE,IAAZ,CAAiBb,UAA/B,CAAd,EALJ,+EAOIH,QAAQ,CAACiB,MAAT,CAAgBC,OAAhB,WAA2B,YAAMC,OAAjC,GAPJ,oE,mIAkBA,iBAAS,iBACP,GAAQhB,WAAR,CAAuB,KAAKD,KAA5B,CAAQC,UAAR,CACA,mBACE,WAAI,SAAS,CAAC,eAAd,UACGA,UAAU,EACTA,UAAU,CAACiB,GAAX,CAAe,cAAuB,IAApBC,MAAoB,MAApBA,KAAoB,CAAbC,MAAa,MAAbA,MAAa,CACpC,mBACE,YAAI,OAAO,CAAE,MAAI,CAAClB,MAAlB,CAAuC,SAAS,CAAC,eAAjD,WACGkB,MADH,KACYD,KADZ,GAA+BC,MAA/B,CADF,CAKD,CAND,CAFJ,EADF,CAYD,C,4BArCyCzB,S,SAAvBI,c"},"metadata":{},"sourceType":"module"}