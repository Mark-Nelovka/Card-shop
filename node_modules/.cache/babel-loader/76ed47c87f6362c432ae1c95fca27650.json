{"ast":null,"code":"import _classCallCheck from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from\"react\";import{v4}from\"uuid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ModalBag=/*#__PURE__*/function(_Component){_inherits(ModalBag,_Component);var _super=_createSuper(ModalBag);function ModalBag(){var _this;_classCallCheck(this,ModalBag);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={itemsBag:null,symbol:_this.props.symbol,total:0};return _this;}_createClass(ModalBag,[{key:\"componentDidMount\",value:function componentDidMount(){var symbol=this.state.symbol;var itemStorage=JSON.parse(localStorage.getItem(\"productItems\"));if(itemStorage){var item=itemStorage.map(function(_ref){var name=_ref.name,brand=_ref.brand,gallery=_ref.gallery,id=_ref.id,prices=_ref.prices,attributes=_ref.attributes;return{name:name,brand:brand,gallery:gallery[0],id:id,attributes:attributes,prices:prices};});var prices=item.flatMap(function(data){return data.prices;});var price=prices.reduce(function(acc,val){if(val.currency.symbol.trim()===symbol.trim()){return acc+=val.amount;}return acc;},0);this.setState({total:price});return this.setState({itemsBag:item});}}},{key:\"render\",value:function render(){var _this$state=this.state,itemsBag=_this$state.itemsBag,symbol=_this$state.symbol,total=_this$state.total;return/*#__PURE__*/_jsx(\"div\",{className:\"modal_container-bag\",children:itemsBag?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"bag_title\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"My bag,\"}),\" \".concat(itemsBag.length,\" items\")]}),/*#__PURE__*/_jsx(\"ul\",{children:itemsBag.map(function(_ref2){var name=_ref2.name,brand=_ref2.brand,gallery=_ref2.gallery,id=_ref2.id,attributes=_ref2.attributes,prices=_ref2.prices;return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"p\",{children:brand}),/*#__PURE__*/_jsx(\"p\",{children:name}),/*#__PURE__*/_jsxs(\"p\",{children:[symbol,prices.map(function(data){if(data.currency.symbol.trim()===symbol.trim()){return data.amount;}return\"\";})]}),attributes.map(function(dataAtr){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[dataAtr.id,\":\"]}),/*#__PURE__*/_jsx(\"div\",{children:dataAtr.items.map(function(dataItem){if(dataAtr.id===\"Color\"){return/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:dataItem.value,width:\"20px\",height:\"20px\"}},v4());}return/*#__PURE__*/_jsx(\"p\",{children:dataItem.value},v4());})})]},v4());}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{children:\"+\"}),/*#__PURE__*/_jsx(\"span\",{children:\"1\"}),/*#__PURE__*/_jsx(\"button\",{children:\"-\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:gallery,alt:\"Item in bag\",width:\"121px\",height:\"190px\"})})]},id);})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: \",total]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{children:\"View bag\"}),/*#__PURE__*/_jsx(\"button\",{children:\"CHECK OUT\"})]})]}):/*#__PURE__*/_jsx(\"div\",{children:\"\\u041A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0430 \\u043F\\u0443\\u0441\\u0442\\u0430\"})});}}]);return ModalBag;}(Component);export{ModalBag as default};","map":{"version":3,"names":["Component","v4","ModalBag","state","itemsBag","symbol","props","total","itemStorage","JSON","parse","localStorage","getItem","item","map","name","brand","gallery","id","prices","attributes","flatMap","data","price","reduce","acc","val","currency","trim","amount","setState","length","dataAtr","items","dataItem","backgroundColor","value","width","height"],"sources":["/Users/marknelovka/Desktop/Goit/React/shop/src/components/modalBag.js"],"sourcesContent":["import { Component } from \"react\";\nimport { v4 } from \"uuid\";\n\nexport default class ModalBag extends Component {\n  state = {\n    itemsBag: null,\n    symbol: this.props.symbol,\n    total: 0,\n  };\n\n  componentDidMount() {\n    const { symbol } = this.state;\n\n    const itemStorage = JSON.parse(localStorage.getItem(\"productItems\"));\n    if (itemStorage) {\n      const item = itemStorage.map(\n        ({ name, brand, gallery, id, prices, attributes }) => {\n          return {\n            name,\n            brand,\n            gallery: gallery[0],\n            id,\n            attributes,\n            prices,\n          };\n        }\n      );\n      const prices = item.flatMap((data) => {\n        return data.prices;\n      });\n\n      const price = prices.reduce((acc, val) => {\n        if (val.currency.symbol.trim() === symbol.trim()) {\n          return (acc += val.amount);\n        }\n        return acc;\n      }, 0);\n      this.setState({ total: price });\n      return this.setState({ itemsBag: item });\n    }\n  }\n\n  render() {\n    const { itemsBag, symbol, total } = this.state;\n    return (\n      <div className=\"modal_container-bag\">\n        {itemsBag ? (\n          <div>\n            <p className=\"bag_title\">\n              <span>My bag,</span>\n              {` ${itemsBag.length} items`}\n            </p>\n            <ul>\n              {itemsBag.map(\n                ({ name, brand, gallery, id, attributes, prices }) => {\n                  return (\n                    <li key={id}>\n                      <p>{brand}</p>\n                      <p>{name}</p>\n                      <p>\n                        {symbol}\n                        {prices.map((data) => {\n                          if (data.currency.symbol.trim() === symbol.trim()) {\n                            return data.amount;\n                          }\n                          return \"\";\n                        })}\n                      </p>\n                      {attributes.map((dataAtr) => {\n                        return (\n                          <div key={v4()}>\n                            <p>{dataAtr.id}:</p>\n                            <div>\n                              {dataAtr.items.map((dataItem) => {\n                                if (dataAtr.id === \"Color\") {\n                                  return (\n                                    <div\n                                      key={v4()}\n                                      style={{\n                                        backgroundColor: dataItem.value,\n                                        width: \"20px\",\n                                        height: \"20px\",\n                                      }}\n                                    ></div>\n                                  );\n                                }\n                                return <p key={v4()}>{dataItem.value}</p>;\n                              })}\n                            </div>\n                          </div>\n                        );\n                      })}\n                      <div>\n                        <button>+</button>\n                        <span>1</span>\n                        <button>-</button>\n                      </div>\n                      <div>\n                        <img\n                          src={gallery}\n                          alt=\"Item in bag\"\n                          width=\"121px\"\n                          height=\"190px\"\n                        />\n                      </div>\n                    </li>\n                  );\n                }\n              )}\n            </ul>\n            <p>Total: {total}</p>\n            <div>\n              <button>View bag</button>\n              <button>CHECK OUT</button>\n            </div>\n          </div>\n        ) : (\n          <div>Корзина пуста</div>\n        )}\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}