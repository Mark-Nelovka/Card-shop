{"ast":null,"code":"import _regeneratorRuntime from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from\"react\";import Api from\"../Api/Api\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var fetchCur=new Api();var ChoiceCurrencyModal=/*#__PURE__*/function(_Component){_inherits(ChoiceCurrencyModal,_Component);var _super=_createSuper(ChoiceCurrencyModal);function ChoiceCurrencyModal(){var _this;_classCallCheck(this,ChoiceCurrencyModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={currencies:null};_this.toggleModalCur=function(e){var value=e.target.classList.value;if(e.key===\"Escape\"||value===\"container\"){_this.props.changeCurrency();}return;};_this.choise=function(e){var textContent=e.target.textContent;var activeCurrency=textContent.split(\"\",2).join(\"\");_this.props.relevantCurrency(activeCurrency);_this.props.changeCurrency();return activeCurrency;};return _this;}_createClass(ChoiceCurrencyModal,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener(\"click\",this.toggleModalCur);return window.removeEventListener(\"keydown\",this.toggleModalCur);}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var currencies;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:window.addEventListener(\"keydown\",this.toggleModalCur);window.addEventListener(\"click\",this.toggleModalCur);_context.next=4;return fetchCur.getCurrencies();case 4:currencies=_context.sent;this.setState({currencies:currencies});case 6:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;var currencies=this.state.currencies;return/*#__PURE__*/_jsx(\"ul\",{className:\"currency_list\",children:currencies&&currencies.map(function(_ref){var label=_ref.label,symbol=_ref.symbol;return/*#__PURE__*/_jsxs(\"li\",{onClick:_this2.choise,className:\"currency_item\",children:[symbol,\" \",label]},symbol);})});}}]);return ChoiceCurrencyModal;}(Component);export{ChoiceCurrencyModal as default};","map":{"version":3,"names":["Component","Api","fetchCur","ChoiceCurrencyModal","state","currencies","toggleModalCur","e","value","target","classList","key","props","changeCurrency","choise","textContent","activeCurrency","split","join","relevantCurrency","window","removeEventListener","addEventListener","getCurrencies","setState","map","label","symbol"],"sources":["/Users/marknelovka/Desktop/Goit/React/shop/src/components/modalCurrency.js"],"sourcesContent":["import { Component } from \"react\";\nimport Api from \"../Api/Api\";\nconst fetchCur = new Api();\n\nexport default class ChoiceCurrencyModal extends Component {\n  state = {\n    currencies: null,\n  };\n\n  toggleModalCur = (e) => {\n    const { value } = e.target.classList;\n    if (e.key === \"Escape\" || value === \"container\") {\n      this.props.changeCurrency();\n    }\n    return;\n  };\n\n  componentWillUnmount() {\n    window.removeEventListener(\"click\", this.toggleModalCur);\n    return window.removeEventListener(\"keydown\", this.toggleModalCur);\n  }\n\n  async componentDidMount() {\n    window.addEventListener(\"keydown\", this.toggleModalCur);\n    window.addEventListener(\"click\", this.toggleModalCur);\n\n    const currencies = await fetchCur.getCurrencies();\n\n    this.setState({ currencies: currencies });\n  }\n\n  choise = (e) => {\n    const { textContent } = e.target;\n    const activeCurrency = textContent.split(\"\", 2).join(\"\");\n    this.props.relevantCurrency(activeCurrency);\n    this.props.changeCurrency();\n    return activeCurrency;\n  };\n\n  render() {\n    const { currencies } = this.state;\n    return (\n      <ul className=\"currency_list\">\n        {currencies &&\n          currencies.map(({ label, symbol }) => {\n            return (\n              <li onClick={this.choise} key={symbol} className=\"currency_item\">\n                {symbol} {label}\n              </li>\n            );\n          })}\n      </ul>\n    );\n  }\n}\n"],"mappings":"gwBAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,MAAOC,IAAP,KAAgB,YAAhB,C,wFACA,GAAMC,SAAQ,CAAG,GAAID,IAAJ,EAAjB,C,GAEqBE,oB,+WACnBC,K,CAAQ,CACNC,UAAU,CAAE,IADN,C,OAIRC,c,CAAiB,SAACC,CAAD,CAAO,CACtB,GAAQC,MAAR,CAAkBD,CAAC,CAACE,MAAF,CAASC,SAA3B,CAAQF,KAAR,CACA,GAAID,CAAC,CAACI,GAAF,GAAU,QAAV,EAAsBH,KAAK,GAAK,WAApC,CAAiD,CAC/C,MAAKI,KAAL,CAAWC,cAAX,GACD,CACD,OACD,C,OAgBDC,M,CAAS,SAACP,CAAD,CAAO,CACd,GAAQQ,YAAR,CAAwBR,CAAC,CAACE,MAA1B,CAAQM,WAAR,CACA,GAAMC,eAAc,CAAGD,WAAW,CAACE,KAAZ,CAAkB,EAAlB,CAAsB,CAAtB,EAAyBC,IAAzB,CAA8B,EAA9B,CAAvB,CACA,MAAKN,KAAL,CAAWO,gBAAX,CAA4BH,cAA5B,EACA,MAAKJ,KAAL,CAAWC,cAAX,GACA,MAAOG,eAAP,CACD,C,mFApBD,+BAAuB,CACrBI,MAAM,CAACC,mBAAP,CAA2B,OAA3B,CAAoC,KAAKf,cAAzC,EACA,MAAOc,OAAM,CAACC,mBAAP,CAA2B,SAA3B,CAAsC,KAAKf,cAA3C,CAAP,CACD,C,6HAED,oJACEc,MAAM,CAACE,gBAAP,CAAwB,SAAxB,CAAmC,KAAKhB,cAAxC,EACAc,MAAM,CAACE,gBAAP,CAAwB,OAAxB,CAAiC,KAAKhB,cAAtC,EAFF,sBAI2BJ,SAAQ,CAACqB,aAAT,EAJ3B,QAIQlB,UAJR,eAME,KAAKmB,QAAL,CAAc,CAAEnB,UAAU,CAAEA,UAAd,CAAd,EANF,2D,mIAiBA,iBAAS,iBACP,GAAQA,WAAR,CAAuB,KAAKD,KAA5B,CAAQC,UAAR,CACA,mBACE,WAAI,SAAS,CAAC,eAAd,UACGA,UAAU,EACTA,UAAU,CAACoB,GAAX,CAAe,cAAuB,IAApBC,MAAoB,MAApBA,KAAoB,CAAbC,MAAa,MAAbA,MAAa,CACpC,mBACE,YAAI,OAAO,CAAE,MAAI,CAACb,MAAlB,CAAuC,SAAS,CAAC,eAAjD,WACGa,MADH,KACYD,KADZ,GAA+BC,MAA/B,CADF,CAKD,CAND,CAFJ,EADF,CAYD,C,iCAjD8C3B,S,SAA5BG,mB"},"metadata":{},"sourceType":"module"}