{"ast":null,"code":"import _regeneratorRuntime from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _createForOfIteratorHelper from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/marknelovka/Desktop/Goit/React/shop/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from\"react\";import{v4}from\"uuid\";import Api from\"./Api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var fetchProduct=new Api();var ItemPage=/*#__PURE__*/function(_Component){_inherits(ItemPage,_Component);var _super=_createSuper(ItemPage);function ItemPage(){var _this;_classCallCheck(this,ItemPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={item:null,price:0,currentImage:null,active:null,activeId:null,activeAtribute:null};_this.choiseItem=function(e){var src=e.currentTarget.dataset.src;_this.setState({currentImage:src});};_this.selectActive=function(e){var id=e.target.id;var index=e.target.dataset.index;var name=e.target.dataset.name;_this.setState({active:index,activeId:id,activeAtribute:name});};return _this;}_createClass(ItemPage,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _this2=this;var fetchItem,item,_iterator,_step,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchProduct.getProductId(this.props.itemId);case 2:fetchItem=_context.sent;item=fetchItem.map(function(data){return data.gallery[0];});this.setState({item:fetchItem,currentImage:item});_iterator=_createForOfIteratorHelper(fetchItem);try{for(_iterator.s();!(_step=_iterator.n()).done;){data=_step.value;data.prices.map(function(_ref){var amount=_ref.amount,currency=_ref.currency;if(currency.symbol.trim()===_this2.props.currentSymbol.trim()){return _this2.setState({price:amount});}return amount;});}}catch(err){_iterator.e(err);}finally{_iterator.f();}case 7:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,item=_this$state.item,currentImage=_this$state.currentImage,active=_this$state.active,activeAtribute=_this$state.activeAtribute,activeId=_this$state.activeId;var currentSymbol=this.props.currentSymbol;return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"item_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container_photo\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"item_list\",children:item&&item.map(function(_ref2){var gallery=_ref2.gallery;return gallery.map(function(src){return/*#__PURE__*/_jsx(\"li\",{\"data-src\":src,onClick:_this3.choiseItem,children:/*#__PURE__*/_jsx(\"img\",{height:\"80\",src:src,alt:\"Item\"})},v4());});})}),currentImage&&/*#__PURE__*/_jsx(\"div\",{className:\"item_image\",children:/*#__PURE__*/_jsx(\"img\",{height:\"511\",src:currentImage,alt:\"Current\"})})]}),item&&item.map(function(_ref3){var name=_ref3.name,brand=_ref3.brand,id=_ref3.id,attributes=_ref3.attributes,prices=_ref3.prices,description=_ref3.description;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item_container-info\",children:[/*#__PURE__*/_jsx(\"p\",{children:brand}),/*#__PURE__*/_jsx(\"p\",{children:name})]}),attributes.map(function(dataAtr){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"item_name-options\",children:[dataAtr.id,\":\"]}),/*#__PURE__*/_jsx(\"div\",{children:dataAtr.items.map(function(dataItem,i){if(dataAtr.id===\"Color\"){return/*#__PURE__*/_jsx(\"button\",{className:Number(active)===i&&activeId===id&&activeAtribute===dataAtr.id?\"item_options-color--active\":\"item_options-color\",onClick:_this3.selectActive,children:/*#__PURE__*/_jsx(\"div\",{\"data-index\":i,\"data-name\":dataAtr.id,id:id,style:{backgroundColor:dataItem.value,width:\"32px\",height:\"32px\"}})},v4());}return/*#__PURE__*/_jsx(\"button\",{className:Number(active)===i&&activeId===id&&activeAtribute===dataAtr.id?\"item_change-options--active\":\"item_change-options\",onClick:_this3.selectActive,id:id,\"data-index\":i,\"data-name\":dataAtr.id,children:dataItem.value},v4());})},v4())]},v4());}),/*#__PURE__*/_jsxs(\"div\",{className:\"item_container-price\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Price: \"}),/*#__PURE__*/_jsxs(\"p\",{children:[currentSymbol.trim(),prices.map(function(data){if(data.currency.symbol.trim()===currentSymbol.trim()){return data.amount;}return\"\";})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"item_btn-add\",children:\"ADD TO CART\"}),/*#__PURE__*/_jsx(\"div\",{children:description})]},v4());})]})});}}]);return ItemPage;}(Component);export{ItemPage as default};","map":{"version":3,"names":["Component","v4","Api","fetchProduct","ItemPage","state","item","price","currentImage","active","activeId","activeAtribute","choiseItem","e","src","currentTarget","dataset","setState","selectActive","id","target","index","name","getProductId","props","itemId","fetchItem","map","data","gallery","prices","amount","currency","symbol","trim","currentSymbol","brand","attributes","description","dataAtr","items","dataItem","i","Number","backgroundColor","value","width","height"],"sources":["/Users/marknelovka/Desktop/Goit/React/shop/src/components/ItemPage.js"],"sourcesContent":["import { Component } from \"react\";\nimport { v4 } from \"uuid\";\nimport Api from \"./Api\";\nconst fetchProduct = new Api();\n\nexport default class ItemPage extends Component {\n  state = {\n    item: null,\n    price: 0,\n    currentImage: null,\n    active: null,\n    activeId: null,\n    activeAtribute: null,\n  };\n\n  async componentDidMount() {\n    const fetchItem = await fetchProduct.getProductId(this.props.itemId);\n\n    const item = fetchItem.map((data) => {\n      return data.gallery[0];\n    });\n\n    this.setState({\n      item: fetchItem,\n      currentImage: item,\n    });\n\n    for (let data of fetchItem) {\n      data.prices.map(({ amount, currency }) => {\n        if (currency.symbol.trim() === this.props.currentSymbol.trim()) {\n          return this.setState({ price: amount });\n        }\n        return amount;\n      });\n    }\n  }\n\n  choiseItem = (e) => {\n    const { src } = e.currentTarget.dataset;\n    this.setState({ currentImage: src });\n  };\n\n  selectActive = (e) => {\n    const { id } = e.target;\n    const { index } = e.target.dataset;\n    const { name } = e.target.dataset;\n    this.setState({\n      active: index,\n      activeId: id,\n      activeAtribute: name,\n    });\n  };\n  render() {\n    const { item, currentImage, active, activeAtribute, activeId } = this.state;\n    const { currentSymbol } = this.props;\n    return (\n      <div className=\"container\">\n        <div className=\"item_container\">\n          <div className=\"container_photo\">\n            <ul className=\"item_list\">\n              {item &&\n                item.map(({ gallery }) => {\n                  return gallery.map((src) => {\n                    return (\n                      <li key={v4()} data-src={src} onClick={this.choiseItem}>\n                        <img height=\"80\" src={src} alt=\"Item\" />\n                      </li>\n                    );\n                  });\n                })}\n            </ul>\n            {currentImage && (\n              <div className=\"item_image\">\n                <img height=\"511\" src={currentImage} alt=\"Current\" />\n              </div>\n            )}\n          </div>\n          {item &&\n            item.map(({ name, brand, id, attributes, prices, description }) => {\n              return (\n                <div key={v4()}>\n                  <div className=\"item_container-info\">\n                    <p>{brand}</p>\n                    <p>{name}</p>\n                  </div>\n                  {attributes.map((dataAtr) => {\n                    return (\n                      <div key={v4()}>\n                        <p className=\"item_name-options\">{dataAtr.id}:</p>\n                        <div key={v4()}>\n                          {dataAtr.items.map((dataItem, i) => {\n                            if (dataAtr.id === \"Color\") {\n                              return (\n                                <button\n                                  className={\n                                    Number(active) === i &&\n                                    activeId === id &&\n                                    activeAtribute === dataAtr.id\n                                      ? \"item_options-color--active\"\n                                      : \"item_options-color\"\n                                  }\n                                  key={v4()}\n                                  onClick={this.selectActive}\n                                >\n                                  <div\n                                    data-index={i}\n                                    data-name={dataAtr.id}\n                                    id={id}\n                                    style={{\n                                      backgroundColor: dataItem.value,\n                                      width: \"32px\",\n                                      height: \"32px\",\n                                    }}\n                                  ></div>\n                                </button>\n                              );\n                            }\n                            return (\n                              <button\n                                className={\n                                  Number(active) === i &&\n                                  activeId === id &&\n                                  activeAtribute === dataAtr.id\n                                    ? \"item_change-options--active\"\n                                    : \"item_change-options\"\n                                }\n                                key={v4()}\n                                onClick={this.selectActive}\n                                id={id}\n                                data-index={i}\n                                data-name={dataAtr.id}\n                              >\n                                {dataItem.value}\n                              </button>\n                            );\n                          })}\n                        </div>\n                      </div>\n                    );\n                  })}\n                  <div className=\"item_container-price\">\n                    <p>Price: </p>\n                    <p>\n                      {currentSymbol.trim()}\n                      {prices.map((data) => {\n                        if (\n                          data.currency.symbol.trim() === currentSymbol.trim()\n                        ) {\n                          return data.amount;\n                        }\n                        return \"\";\n                      })}\n                    </p>\n                  </div>\n                  <button className=\"item_btn-add\">ADD TO CART</button>\n                  <div>{description}</div>\n                </div>\n              );\n            })}\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}